{"ast":null,"code":"import Quagga from'quagga';import{useEffect,useRef,useState,useCallback}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const scannerRef=useRef(null);const[error,setError]=useState(null);const[barcode,setBarcode]=useState(null);const[scanning,setScanning]=useState(true);const[bookInfo,setBookInfo]=useState(null);const[loading,setLoading]=useState(false);const[processing,setProcessing]=useState(false);const isValidISBN13=isbn=>{if(!/^\\d{13}$/.test(isbn))return false;let sum=0;for(let i=0;i<12;i++){const num=parseInt(isbn[i],10);sum+=i%2===0?num:num*3;}const check=(10-sum%10)%10;return check===parseInt(isbn[12],10);};const handleDetected=useCallback(async result=>{console.log(\"Detected barcode result:\",result);console.log(\"Detected varcode:\",result);if(processing)return;setProcessing(true);const codeResult=result.codeResult;if(codeResult){const code=codeResult.code;console.log('Barcode detected:',code,'Format:',codeResult.format);// Check if the detected format is EAN-13 or EAN-8\nif(codeResult.format!=='ean_13'&&codeResult.format!=='ean_8'){console.warn('Detected barcode is not EAN-13 or EAN-8:',codeResult.format);return;}// Validate ISBN-13\nif(codeResult.format==='ean_13'&&!isValidISBN13(code)){console.warn('Invalid ISBN-13 detected:',code);setError('Scanned barcode is not a valid ISBN-13.');return;}setBarcode(code);setScanning(false);Quagga.stop();setLoading(true);try{const response=await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${code}`);if(!response.ok){throw new Error('Network response not ok');}const data=await response.json();if(data.totalItems>0){const book=data.items[0].volumeInfo;setBookInfo(book);console.log(book);}else{setError('No book found for the scanned barcode.');}}catch(err){console.error('Error fetching book data:',err);setError('Failed to fetch book information. Please try again.');}finally{setLoading(false);setProcessing(false);}}},[processing]);useEffect(()=>{console.log(\"initializing Quagga...\");if(scannerRef.current){Quagga.init({inputStream:{name:\"Live\",type:\"LiveStream\",target:scannerRef.current,constraints:{facingMode:\"environment\"}},decoder:{readers:[\"code_128_reader\",\"ean_reader\",\"ean_8_reader\",\"code_39_reader\",\"code_39_vin_reader\",\"codabar_reader\",\"upc_reader\",\"upc_e_reader\",\"i2of5_reader\"]}},function(err){if(err){console.error(\"Quagga initialization error:\",err);setError(\"Failed to access the camera. Please allow camera permissions.\");return;}if(scanning){console.log(\"quagga initialized successfully. starting quagga...\");Quagga.start();}});Quagga.onProcessed(function(result){var drawingCtx=Quagga.canvas.ctx.overlay,drawingCanvas=Quagga.canvas.dom.overlay;if(result){if(result.boxes){drawingCtx.clearRect(0,0,parseInt(drawingCanvas.getAttribute(\"width\")),parseInt(drawingCanvas.getAttribute(\"height\")));result.boxes.filter(function(box){return box!==result.box;}).forEach(function(box){Quagga.ImageDebug.drawPath(box,{x:0,y:1},drawingCtx,{color:\"green\",lineWidth:2});});}if(result.box){Quagga.ImageDebug.drawPath(result.box,{x:0,y:1},drawingCtx,{color:\"#00F\",lineWidth:2});}if(result.codeResult&&result.codeResult.code){Quagga.ImageDebug.drawPath(result.line,{x:'x',y:'y'},drawingCtx,{color:'red',lineWidth:3});}}});Quagga.onDetected(handleDetected);return()=>{console.log(\"Cleaning up Quagga...\");Quagga.offDetected(handleDetected);Quagga.stop();};}},[handleDetected,scanning]);// useEffect(() => {\n//     if (scanning) {\n//       console.log(\"Starting Quagga for scanning...\");\n//       Quagga.start();\n//     } else {\n//       console.log(\"Stopping Quagga...\");\n//       Quagga.stop();\n//     }\n// }, [scanning]);\nconst handleScanAgain=()=>{if(!scanning){setBarcode(null);setBookInfo(null);setError(null);setProcessing(false);setLoading(false);setScanning(true);Quagga.stop(()=>{Quagga.start();setScanning(true);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Barcode Scanner\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),barcode?/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[loading?/*#__PURE__*/_jsx(\"p\",{children:\"Fetching book information...\"}):bookInfo?/*#__PURE__*/_jsxs(\"div\",{className:\"book-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:bookInfo.title}),bookInfo.authors&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Author(s):\"}),\" \",bookInfo.authors.join(', ')]}),bookInfo.publisher&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Publisher:\"}),\" \",bookInfo.publisher]}),bookInfo.publishedDate&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Published Date:\"}),\" \",bookInfo.publishedDate]}),bookInfo.description&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",bookInfo.description]}),bookInfo.imageLinks&&bookInfo.imageLinks.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:bookInfo.imageLinks.thumbnail,alt:`${bookInfo.title} cover`}):/*#__PURE__*/_jsx(\"img\",{src:\"/placeholder.png\",alt:\"No cover available\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No book information available.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleScanAgain,children:\"Scan Again\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"scanner\",children:[/*#__PURE__*/_jsx(\"div\",{ref:scannerRef,className:\"scanner-container\"}),scanning&&/*#__PURE__*/_jsx(\"p\",{children:\"Scanning for barcodes...\"})]})]});}export default App;","map":{"version":3,"names":["Quagga","useEffect","useRef","useState","useCallback","jsx","_jsx","jsxs","_jsxs","App","scannerRef","error","setError","barcode","setBarcode","scanning","setScanning","bookInfo","setBookInfo","loading","setLoading","processing","setProcessing","isValidISBN13","isbn","test","sum","i","num","parseInt","check","handleDetected","result","console","log","codeResult","code","format","warn","stop","response","fetch","ok","Error","data","json","totalItems","book","items","volumeInfo","err","current","init","inputStream","name","type","target","constraints","facingMode","decoder","readers","start","onProcessed","drawingCtx","canvas","ctx","overlay","drawingCanvas","dom","boxes","clearRect","getAttribute","filter","box","forEach","ImageDebug","drawPath","x","y","color","lineWidth","line","onDetected","offDetected","handleScanAgain","className","children","title","authors","join","publisher","publishedDate","description","imageLinks","thumbnail","src","alt","onClick","ref"],"sources":["/Users/parkerhuang/Desktop/projects/books/src/App.js"],"sourcesContent":["import Quagga from 'quagga';\nimport { useEffect, useRef, useState, useCallback} from 'react';\nimport './App.css';\n\nfunction App() {\n  const scannerRef = useRef(null);\n  const [error, setError] = useState(null);\n  const [barcode, setBarcode] = useState(null);\n  const [scanning, setScanning] = useState(true);\n  const [bookInfo, setBookInfo] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const isValidISBN13 = (isbn) => {\n    if (!/^\\d{13}$/.test(isbn)) return false;\n    let sum = 0;\n    for (let i = 0; i < 12; i++) {\n      const num = parseInt(isbn[i], 10);\n      sum += (i % 2 === 0) ? num : num * 3;\n    }\n    const check = (10 - (sum % 10)) % 10;\n    return check === parseInt(isbn[12], 10);\n  };\n  const handleDetected = useCallback(async (result) => {\n    console.log(\"Detected barcode result:\", result);\n    console.log(\"Detected varcode:\", result);\n    if (processing) return;\n    setProcessing(true);\n\n    const codeResult = result.codeResult;\n  if (codeResult) {\n    const code = codeResult.code;\n    console.log('Barcode detected:', code, 'Format:', codeResult.format);\n\n    // Check if the detected format is EAN-13 or EAN-8\n    if (codeResult.format !== 'ean_13' && codeResult.format !== 'ean_8') {\n      console.warn('Detected barcode is not EAN-13 or EAN-8:', codeResult.format);\n      return;\n    }\n\n    // Validate ISBN-13\n    if (codeResult.format === 'ean_13' && !isValidISBN13(code)) {\n      console.warn('Invalid ISBN-13 detected:', code);\n      setError('Scanned barcode is not a valid ISBN-13.');\n      return;\n    }\n    \n    setBarcode(code);\n    setScanning(false);\n    Quagga.stop();\n    setLoading(true);\n\n    try {\n      const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${code}`);\n      if (!response.ok) {\n        throw new Error('Network response not ok');\n      }\n      const data = await response.json();\n      if (data.totalItems > 0) {\n        const book = data.items[0].volumeInfo;\n        setBookInfo(book);\n        console.log(book)\n      } else {\n        setError('No book found for the scanned barcode.');\n      }\n    } catch (err) {\n      console.error('Error fetching book data:', err);\n      setError('Failed to fetch book information. Please try again.');\n    } finally {\n      setLoading(false);\n      setProcessing(false);\n    }\n  }}, [processing]);\n\n  useEffect(() => {\n    console.log(\"initializing Quagga...\")\n    if (scannerRef.current) {\n      Quagga.init({\n        inputStream: {\n          name: \"Live\",\n          type: \"LiveStream\",\n          target: scannerRef.current,\n          constraints: {\n            facingMode: \"environment\",\n          },\n        },\n\n        decoder: {\n          readers: [\"code_128_reader\",\n                    \"ean_reader\",\n                    \"ean_8_reader\",\n                    \"code_39_reader\",\n                    \"code_39_vin_reader\",\n                    \"codabar_reader\",\n                    \"upc_reader\",\n                    \"upc_e_reader\",\n                    \"i2of5_reader\"\n          ],\n        },\n      }, function(err) {\n        if (err) {\n          console.error(\"Quagga initialization error:\", err);\n          setError(\"Failed to access the camera. Please allow camera permissions.\")\n          return;\n        }\n        if (scanning) {\n          console.log(\"quagga initialized successfully. starting quagga...\")\n          Quagga.start();\n        }\n      });\n\n      Quagga.onProcessed(function(result) {\n  var drawingCtx = Quagga.canvas.ctx.overlay,\n      drawingCanvas = Quagga.canvas.dom.overlay;\n\n  if (result) {\n    if (result.boxes) {\n      drawingCtx.clearRect(0, 0, parseInt(drawingCanvas.getAttribute(\"width\")), parseInt(drawingCanvas.getAttribute(\"height\")));\n      result.boxes.filter(function (box) {\n        return box !== result.box;\n      }).forEach(function (box) {\n        Quagga.ImageDebug.drawPath(box, { x: 0, y: 1 }, drawingCtx, { color: \"green\", lineWidth: 2 });\n      });\n    }\n\n    if (result.box) {\n      Quagga.ImageDebug.drawPath(result.box, { x: 0, y: 1 }, drawingCtx, { color: \"#00F\", lineWidth: 2 });\n    }\n\n    if (result.codeResult && result.codeResult.code) {\n      Quagga.ImageDebug.drawPath(result.line, { x: 'x', y: 'y' }, drawingCtx, { color: 'red', lineWidth: 3 });\n    }\n  }\n});\n      Quagga.onDetected(handleDetected);\n\n      return () => {\n        console.log(\"Cleaning up Quagga...\");\n        Quagga.offDetected(handleDetected);\n        Quagga.stop();\n      };\n    }\n  }, [handleDetected, scanning]);\n\n  // useEffect(() => {\n  //     if (scanning) {\n  //       console.log(\"Starting Quagga for scanning...\");\n  //       Quagga.start();\n  //     } else {\n  //       console.log(\"Stopping Quagga...\");\n  //       Quagga.stop();\n  //     }\n  // }, [scanning]);\n\n  const handleScanAgain = () => {\n    if (!scanning) {\n      setBarcode(null);\n      setBookInfo(null);\n      setError(null);\n      setProcessing(false);\n      setLoading(false);\n      setScanning(true);\n\n      Quagga.stop(() => {\n        Quagga.start();\n        setScanning(true);\n      })\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Barcode Scanner</h1>\n      {error && <p className=\"error\">{error}</p>}\n      {barcode ? (\n        <div className=\"result\">\n          {loading ? (\n            <p>Fetching book information...</p>\n          ) : bookInfo ? (\n            <div className=\"book-info\">\n              <h2>{bookInfo.title}</h2>\n              {bookInfo.authors && <p><strong>Author(s):</strong> {bookInfo.authors.join(', ')}</p>}\n              {bookInfo.publisher && <p><strong>Publisher:</strong> {bookInfo.publisher}</p>}\n              {bookInfo.publishedDate && <p><strong>Published Date:</strong> {bookInfo.publishedDate}</p>}\n              {bookInfo.description && <p><strong>Description:</strong> {bookInfo.description}</p>}\n              {bookInfo.imageLinks && bookInfo.imageLinks.thumbnail ? (\n                <img src={bookInfo.imageLinks.thumbnail} alt={`${bookInfo.title} cover`} />\n              ) : (\n                <img src=\"/placeholder.png\" alt=\"No cover available\" />\n              )}\n            </div>\n            \n          ) : (\n            <p>No book information available.</p>\n          )}\n          <button onClick={handleScanAgain}>Scan Again</button>\n        </div>\n      ) : (\n        <div className=\"scanner\">\n          <div ref={scannerRef} className=\"scanner-container\" />\n          {scanning && <p>Scanning for barcodes...</p>}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}